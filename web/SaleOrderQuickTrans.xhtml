<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Quick Order - Sales</title>
        <link href="resources/images/sys_icon.ico" rel="shortcut icon" type="image/x-icon" />         
        <link rel="stylesheet" type="text/css" href="style.css?ln=css"/>
        <script  language="javascript">
            function confirmDelete()
            {
                return confirm('Are you sure you want to delete this current record?');
            }
            function alertSave()
            {
                return alert('Record saved successfully!');
            }
            function doPrintHiddenClick() {
                document.getElementById("TransactionFormSales:cmdbvPrint").click();
            }
            function doPrintHiddenClickOrder() {
                document.getElementById("TransactionFormSales:cmdbvPrintOrder").click();
            }
        </script> 
    </h:head>
    <f:metadata>
        <f:viewAction action="#{accCurrencyBean.refreshCurrencyListActive()}"/>
        <f:viewAction action="#{navigationBean.checkAccessDenied(utilityBean.convertIntAsString(16), 'View')}"/>
        <f:viewAction action="#{navigationBean.checkLicenseExpired()}"/>
        <f:viewAction action="#{transBean.initClearAllCEC('PARENT',trans,transItemBean.activeTransItems,transItem,itemBean.selectedItem,transactorBean.selectedTransactor,2,transactorBean.selectedBillTransactor,userDetailBean.selectedUserDetail,transactorBean.selectedSchemeTransactor)}" />
        <f:viewAction action="#{transBean.initCurrencyCode(11,trans)}"/>
        <f:viewAction action="#{transBean.initTransType(11,16)}"/>
        <f:viewAction action="#{transItemBean.initCategoriesQuickOrder()}"/>
        <f:viewAction action="#{transBean.initLocationsByStore(generalUserSetting.currentStore.storeId)}"/>
        <f:viewAction action="#{transBean.initStoresByStore(generalUserSetting.currentStore.storeId)}"/>
        <f:viewAction action="#{transBean.initResetDefaultQuickOrder(trans)}"/>
        <f:viewAction action="#{transItemBean.initResetDefaultQuickOrder()}"/>
        <f:viewAction action="#{transBean.initOrderForEdit(trans,transItemBean.activeTransItems)}" />
        <f:viewAction action="#{transBean.setAutoPrintAfterSave(true)}"/>
        <f:viewAction action="#{transBean.setOutputNumber(0)}"/>
        <f:viewAction action="#{transBean.initUserDetail(generalUserSetting.currentUser.userDetailId)}"/>
    </f:metadata>
    <f:event listener="#{navigationBean.checkCurrentPage('SALE ORDER','','')}" type="preRenderView" />
    <f:event listener="#{statusBean.initClearStatus()}" type="preRenderView" />
    <h:body>
        <ui:include src="Menu.xhtml"/>
        <h:form id="TransactionFormSales" styleClass="clsMainFrom" style="width:100%;border: 1px solid;" onkeypress="if (event.keyCode == 13)
                    return false;">  
            <h:panelGrid id="pnlHeader" styleClass="clsGridMainHeader" columns="4" style="width:100%;float:left;">
                <h:panelGrid id="pnlOrderCategory" columns="3">
                    <h:commandButton style="border-radius: 5px;border: none;width: 120px;height:45px;font-size: 16px;background-color:#{transBean.setBgColorIfEqual(transBean.orderMode1,trans.delivery_mode,1)};" value="#{transBean.orderMode1}" rendered="#{transBean.orderMode1.length()>0}">
                        <f:ajax listener="#{transBean.updateDelivery_mode(trans,transBean.orderMode1)}" execute="@this" render="pnlOrderCategory"/>
                    </h:commandButton>
                    <h:commandButton style="border-radius: 5px;border: none;width: 120px;height:45px;font-size: 16px;background-color:#{transBean.setBgColorIfEqual(transBean.orderMode2,trans.delivery_mode,1)};" value="#{transBean.orderMode2}" rendered="#{transBean.orderMode2.length()>0}">
                        <f:ajax listener="#{transBean.updateDelivery_mode(trans,transBean.orderMode2)}" execute="@this" render="pnlOrderCategory"/>
                    </h:commandButton>
                    <h:commandButton style="border-radius: 5px;border: none;width: 120px;height:45px;font-size: 16px;background-color:#{transBean.setBgColorIfEqual(transBean.orderMode3,trans.delivery_mode,1)};" value="#{transBean.orderMode3}" rendered="#{transBean.orderMode3.length()>0}">
                        <f:ajax listener="#{transBean.updateDelivery_mode(trans,transBean.orderMode3)}" execute="@this" render="pnlOrderCategory"/>
                    </h:commandButton>
                </h:panelGrid>
                <h:panelGrid id="pnlTransNumber" rendered="#{trans.transactionId>0}">
                    <h:outputLabel value="Order Number" style="color: white;"/>
                    <h:outputLabel value="#{trans.transactionNumber}" style="color: white;"/>
                </h:panelGrid>
                <h:panelGrid columns="3">
                    <h:selectOneMenu style="height: 31px;" styleClass="clsMenu" id="menuTransactionReason" value="#{trans.transactionReasonId}">
                        <f:selectItem itemValue="#{transBean.transReasonObj.transactionReasonId}" itemLabel="#{generalUserSetting.getCurrentStore().getStoreName()}/#{transBean.transReasonObj.transactionReasonName}"/>
                    </h:selectOneMenu>
                    <h:selectOneMenu style="width: 70px;height: 31px;" styleClass="clsMenu" id="menuCurrency" value="#{trans.currencyCode}">
                        <f:selectItems value="#{accCurrencyBean.currencyList}" var="ac" itemLabel="#{ac.currencyCode}" itemValue="#{ac.currencyCode}"/>
                        <f:ajax event="change" execute="@this" render="olblDeposit"/>
                    </h:selectOneMenu>
                    <p:calendar styleClass="clsInput" id="calTransactionDate"  pattern="#{companySetting.getDateFormat()}" navigator="true" showButtonPanel="true" readonlyInput="true" value="#{trans.transactionDate}" size="8" disabled="true"/>
                </h:panelGrid>
                <p:commandButton icon="fa fa-fw fa-arrow-right" style="width: 120px;height: 55px;color: white;background-color: black;" id="cmdbManage" value="ORDERS"  action="#{navigationBean.redirectToSaleOrderQuickManage()}"/>
            </h:panelGrid>
            <h:panelGrid id="pnlMessage" columns="4">
                <h:outputLabel id="olblItemAddedStstus" class="clsSuccessStatus" value="#{statusBean.itemAddedStatus}" rendered="#{statusBean.showItemAddedStatus==1}"/>
                <h:outputLabel id="olblItemNotAddedStstus" class="clsFailStatus" value="#{statusBean.itemNotAddedStatus}" rendered="#{statusBean.showItemNotAddedStatus==1}"/>
                <h:outputLabel styleClass="clsActionMessage" id="olblActionMessage" value="#{transBean.actionMessage}"/>
                <h:messages id="msgsMainMessage" style="color: red"/><br/>
            </h:panelGrid>
            <p:growl id="growl1"/>

            <h:panelGrid columns="6">
                <h:panelGrid id="pnlCategories" columns="1">
                    <c:forEach var="cat" items="#{transItemBean.categoryList}">
                        <h:commandButton style="min-height: 60px;border-radius: 5px;border: none;width: 120px;height:auto;font-size: 20px;word-wrap: break-word !important;white-space:normal;color: black;background-color:#{transBean.setBgColorIfEqual(cat.categoryName,transItemBean.categoryName,4)};" value="#{cat.categoryName}">
                            <f:ajax listener="#{transItemBean.refreshSubCategoryOrItemList(cat)}" execute="@form" render="TransactionFormSales:pnlCategories TransactionFormSales:pnlSubCategories TransactionFormSales:pnlItems"/>
                        </h:commandButton>
                    </c:forEach>
                </h:panelGrid>
                <h:panelGrid id="pnlSubCategories" columns="1">
                    <c:forEach var="scat" items="#{transItemBean.subCategoryList}">
                        <h:commandButton style="min-height: 60px;border-radius: 5px;border: none;width: 120px;height:auto;font-size: 20px;word-wrap: break-word !important;white-space:normal;background-color:#{transBean.setBgColorIfEqual(scat.subCategoryName,transItemBean.subCategoryName,3)};" value="#{scat.subCategoryName}">
                            <f:ajax listener="#{transItemBean.refreshItemListBySubCategory(scat)}" execute="@form" render="TransactionFormSales:pnlSubCategories TransactionFormSales:pnlItems"/>
                        </h:commandButton>
                    </c:forEach>
                </h:panelGrid>
                <h:panelGrid columns="#{transBean.panelColumnsIfListGreater(transItemBean.itemList.size(),3)}" id="pnlItems">
                    <c:forEach var="itm" items="#{transItemBean.itemList}">
                        <h:commandLink style="text-decoration: none;">
                            <h:panelGrid columns="1" style="width: 120px;word-wrap: break-word;margin-bottom: 20px;text-align: center;border: thin silver solid;background-color: #E2E2E2;color: black;">
                                <h:graphicImage value="#{utilityBean.getItemImageAddress(itm)}" width="120" height="120" rendered="#{itm.itemImgUrl.length()>0}"/>
                                <h:outputText value="#{itm.description}"/>
                            </h:panelGrid>
                            <f:ajax listener="#{transItemBean.updateModelTransItemAutoAddCEC(generalUserSetting.currentStore.storeId,11,16,'SALE ORDER',trans,transItem,statusBean,transItemBean.activeTransItems,transItem,itm,'ItemClick')}" execute="@form" render="pnlMessage growl1 dtblTransactionItem pgrdTotals"/>
                        </h:commandLink>
                    </c:forEach>
                </h:panelGrid>
                <h:panelGrid id="pnlCentre" columns="1">
                    <p:dataTable rowIndexVar="rowIndex" id="dtblTransactionItem" value="#{transItemBean.activeTransItems}" var="ati" 
                                 styleClass="cls-table" tableStyle="width:auto;" 
                                 >  
                        <p:column style="width: 20px;">
                            <!-- column header -->
                            <f:facet name="header">
                                #
                            </f:facet>
                            <!-- row record -->
                            #{rowIndex+1}
                        </p:column>
                        <p:column style="width: 200px;">
                            <!-- column header -->
                            <f:facet name="header">Item Description</f:facet>
                            <!-- row record -->
                            <p:outputLabel value="#{transItemBean.showItemDescriptionCECexcSpecific(ati)}" escape="false"/>
                            <h:inputText style="width: 200px" value="#{ati.descSpecific}" rendered="#{ati.is_general==1}" title="Specify more details"/>
                        </p:column>
                        <p:column style="width: 100px;">
                            <!-- column header -->
                            <f:facet name="header">Unit Price</f:facet>
                            <!-- row record -->
                            #{ati.unitSymbol}
                            <h:inputText id="itxtUnitPrice" style="width: 100px" disabled="#{ati.is_general==0 and ati.is_override_price==0}" value="#{ati.unitPrice}" autocomplete="off">
                                <f:ajax event="change" listener="#{transItemBean.editTransItemQuickOrder(generalUserSetting.currentTransactionTypeId,generalUserSetting.currentTransactionReasonId,'',trans, transItemBean.activeTransItems,ati)}" execute="dtblTransactionItem" render="dtblTransactionItem TransactionFormSales:pgrdTotals"/>
                                <f:convertNumber pattern="###,###.###" locale="#{utilityBean.convertLocaleToString()}"/>
                            </h:inputText>
                        </p:column>
                        <p:column style="width: 100px;">
                            <!-- column header -->
                            <f:facet name="header">Qty</f:facet>
                            <!-- row record -->
                            <h:commandButton id="cmdbAddQty" value="+" style="width: 30px;">
                                <f:ajax listener="#{transItemBean.addQtyTransItemCEC(11,16,trans,transItemBean.activeTransItems,ati)}" execute="@form" render="dtblTransactionItem TransactionFormSales:pgrdTotals"/>
                            </h:commandButton>
                            <h:inputText value="#{ati.itemQty}" style="width: 30px;">
                                <f:convertNumber pattern="###,###.###" locale="#{utilityBean.convertLocaleToString()}"/>
                                <f:ajax event="change" listener="#{transItemBean.editTransItemCEC(11,16,'',trans, transItemBean.activeTransItems,ati)}" execute="dtblTransactionItem" render="dtblTransactionItem TransactionFormSales:pgrdTotals TransactionFormSales:gridItemStatus TransactionFormSales:pgrdMsgs"/>
                            </h:inputText>
                            <h:commandButton id="cmdbRemoveQty" value="-" style="width: 30px;">
                                <f:ajax listener="#{transItemBean.subtractQtyTransItemCEC(11,16,trans,transItemBean.activeTransItems,ati)}" execute="@form" render="dtblTransactionItem TransactionFormSales:pgrdTotals"/>
                            </h:commandButton>
                        </p:column>
                        <p:column style="width: 100px;text-align: right;">
                            <!-- column header -->
                            <f:facet name="header">Amount</f:facet>
                            <!-- row record -->
                            <h:outputLabel id="lblAmount" value="#{ati.amountIncVat}">
                                <f:convertNumber pattern="###,###.###" locale="#{utilityBean.convertLocaleToString()}"/>
                            </h:outputLabel>
                        </p:column>
                        <p:column style="width: 58px;">
                            <!-- column header -->
                            <f:facet name="header"></f:facet>
                            <!-- row record -->
                            <p:commandButton id="cmdbOverridePrice" icon="ui-icon-pencil" style="width: 25px;height: 40px;float: left;" disabled="#{transBean.isDisableOverridePrices(generalUserSetting.getCurrentUser(),generalUserSetting.getCurrentGroupRights())}">
                                <f:ajax listener="#{transItemBean.overridePrice(ati)}" execute="dtblTransactionItem" render="dtblTransactionItem"/>
                            </p:commandButton>
                            <p:commandButton id="cmdbRemoveItem" icon="ui-icon-close" style="width: 25px;height: 40px;float: right;">
                                <f:ajax listener="#{transItemBean.removeTransItemCEC(11,16,trans,transItemBean.activeTransItems,ati)}" execute="@form" render="dtblTransactionItem TransactionFormSales:pgrdTotals"/>
                            </p:commandButton>
                        </p:column> 
                    </p:dataTable>
                    <h:panelGrid columns="2" style="float: right;">
                        <h:panelGrid columns="1">
                            <h:panelGrid columns="2">
                                <p:commandLink actionListener="#{transactorBean.openChildTransactor('CUSTOMER')}" value="#{menuItemBean.menuItemObj.CUSTOMER_NAME}"/>
                                <p:autoComplete placeholder="#{utilityBean.returnOneString(trans.transactorName,'Name',1)}" id="autcTransactor" value="#{transactorBean.selectedTransactor}" 
                                                completeMethod="#{transactorBean.getTransactorActiveObjectList}" 
                                                var="trct" 
                                                itemLabel="#{trct.transactorNames}" 
                                                itemValue="#{trct}" 
                                                converter="TransactorConverter" style="text-align: left" 
                                                forceSelection="true" queryDelay="0" 
                                                >
                                    <p:column headerText="Names" style="text-align: left" >  
                                        #{trct.transactorNames} 
                                    </p:column> 
                                    <p:column headerText="Type" style="text-align: left" >  
                                        #{transactorBean.getDisplayName(menuItemBean.menuItemObj,trct)} 
                                    </p:column> 
                                    <p:column headerText="Contact Person" style="text-align: left">  
                                        #{trct.cpName} 
                                    </p:column> 
                                    <p:ajax event="itemSelect" listener="#{trans.setTransactorId(transactorBean.selectedTransactor.transactorId)}"/>
                                    <p:ajax event="change" listener="#{trans.setTransactorId(transactorBean.selectedTransactor.transactorId)}" rendered="#{transactorBean.selectedTransactor!=null}"/>
                                    <p:ajax event="blur" listener="#{trans.setDeliveryAddress(transactorBean.selectedTransactor.physicalAddress)}" update="TransactionFormSales:itxtDelAddress"/>
                                    <p:ajax event="blur" listener="#{transBean.refreshCustomerBalances(trans)}" update="olblDebtCredit itxtDebtCredit itxtPrepaidAcc"/>
                                </p:autoComplete>
                                <h:outputLabel value="Deliver To"/>
                                <h:inputTextarea id="itxtDelAddress" value="#{trans.deliveryAddress}" style="font-size: 10px;height: 20px;width: 234px;"/>
                            </h:panelGrid>
                            <p:scrollPanel mode="native" style="width:450px;height:#{transBean.locationList.size() gt 9? 150:transBean.locationList.size() gt 0? 75:0}px">
                                <h:panelGrid id="pnlLocation" columns="7">
                                    <c:forEach var="loc" items="#{transBean.locationList}">
                                        <h:commandButton style="min-height: 45px;min-width: 45px;border-radius: 5px;border: none;font-size: 12px;word-wrap: break-word !important;white-space:normal;color: black;background-color:#{transBean.setBgColorIfEqual(loc.locationId,trans.location_id,4)};" value="#{loc.locationName}">
                                            <f:ajax listener="#{transBean.updateLocation_id(trans,loc.locationId)}" render="TransactionFormSales:pnlLocation"/>
                                        </h:commandButton>
                                    </c:forEach>
                                </h:panelGrid>
                            </p:scrollPanel>
                            <p:scrollPanel mode="native" style="width:450px;height:100px">
                                <h:panelGrid id="pnlUser" columns="7">
                                    <c:forEach var="usr" items="#{transBean.userDetailList}">
                                        <h:commandButton style="min-height: 45px;min-width: 45px;border-radius: 5px;border: none;font-size: 12px;word-wrap: break-word !important;white-space:normal;color: black;background-color:#{transBean.setBgColorIfEqual(usr.userDetailId,trans.transactionUserDetailId,4)};" value="#{usr.userName}">
                                            <f:ajax listener="#{transBean.updateUserDetail(trans,usr.userDetailId)}" render="TransactionFormSales:pnlUser"/>
                                        </h:commandButton>
                                    </c:forEach>
                                </h:panelGrid>
                            </p:scrollPanel>
                        </h:panelGrid>
                        <h:panelGrid id="pgrdTotals" columns="2">
                            <h:outputLabel styleClass="clsLabelTransItem" value="Sub Total"/>
                            <h:inputText id="itxtSubTotal" value="#{trans.subTotal}" styleClass="clsInputTransItem" style="width: 120px" disabled="true">
                                <f:convertNumber pattern="###,###.###" locale="#{utilityBean.convertLocaleToString()}"/>
                            </h:inputText>
                            <h:outputLabel styleClass="clsLabelTransItem" value="Trade Disc"/>
                            <h:inputText id="itxtTotalTradeDiscount" value="#{trans.totalTradeDiscount}" styleClass="clsInputTransItem" style="width: 120px" autocomplete="off" disabled="true"> 
                                <f:convertNumber pattern="###,###.###" locale="#{utilityBean.convertLocaleToString()}"/>
                            </h:inputText>
                            <h:outputLabel styleClass="clsLabelTransItem" value="Cash Disc"/>
                            <h:inputText id="itxtCashDiscount" value="#{trans.cashDiscount}" styleClass="clsInputTransItem" style="width: 120px;" autocomplete="off" disabled="#{companySetting.getBoolIsAllowDiscount()}">
                                <f:convertNumber pattern="###,###.###" locale="#{utilityBean.convertLocaleToString()}"/>
                                <f:ajax event="change" listener="#{transBean.setTransTotalsAndUpdateCEC(11,16,trans, transItemBean.activeTransItems)}" render="itxtGrandTotal itxtChange itxtTotalVat"/>
                                <f:ajax event="keyup" listener="#{transBean.setTransTotalsAndUpdateCEC(11,16,trans, transItemBean.activeTransItems)}" render="itxtGrandTotal itxtChange itxtTotalVat"/>
                            </h:inputText>
                            <h:outputLabel styleClass="clsLabelTransItem" value="VAT"/>
                            <h:inputText id="itxtTotalVat" value="#{trans.totalVat}" styleClass="clsInputTransItem" style="width: 120px" disabled="true">
                                <f:convertNumber pattern="###,###.###" locale="#{utilityBean.convertLocaleToString()}"/>
                            </h:inputText>
                            <h:outputLabel styleClass="clsLabelTransItem" value="GRAND TOTAL"/>
                            <h:inputText id="itxtGrandTotal" value="#{trans.grandTotal}" styleClass="clsInputTransItem" style="width: 120px;background-color: yellow;font-weight: bold;font-size: 20px;" disabled="true">
                                <f:convertNumber pattern="###,###,###.###" locale="#{utilityBean.convertLocaleToString()}"/>
                                <f:ajax event="change" render="itxtChange"/>
                            </h:inputText>
                            <h:outputLabel id="olblDebtCredit" style="color: coral;font-weight: bold;" value="Receivable(#{generalUserSetting.LOCAL_CURRENCY.currencyCode})"/>
                            <h:inputText disabled="true" style="color: coral;font-weight: bold;width: 120px;" styleClass="clsInput" id="itxtDebtCredit" value="#{accJournalBean.returnBalanceString(trans.balance_receivable)}">
                                <f:convertNumber pattern="###,###.###" locale="#{utilityBean.convertLocaleToString()}"/>
                            </h:inputText>
                            <h:outputLabel id="olblDeposit" style="color: green;font-weight: bold;" value="Deposit(#{trans.currencyCode})"/>
                            <h:inputText disabled="true" style="color: green;font-weight: bold;width: 120px;" styleClass="clsInput" id="itxtPrepaidAcc" value="#{accJournalBean.returnBalanceString(trans.deposit_customer)}">
                                <f:convertNumber pattern="###,###.###" locale="#{utilityBean.convertLocaleToString()}"/>
                            </h:inputText>
                        </h:panelGrid>
                    </h:panelGrid>
                </h:panelGrid>
                <h:panelGrid id="pnlSendTo" columns="1" style="text-align: center;">
                    <h:panelGrid id="pnlStore" columns="1">
                        <h:outputLabel value="Send To"/>
                        <c:forEach var="st" items="#{transBean.storeList}">
                            <h:commandButton style="width: 100px;min-height:40px;font-size: 12px;word-wrap: break-word;white-space:normal;border: none;border-radius: 5px;background-color:#{transBean.setBgColorIfEqual(st.storeId,trans.store2Id,5)};" value="#{st.storeName}">
                                <f:ajax listener="#{transBean.updateStore2Id(trans,st.storeId)}" render="TransactionFormSales:pnlStore"/>
                            </h:commandButton>
                        </c:forEach>
                    </h:panelGrid>
                    <h:outputLabel value="Message"/>
                    <h:inputTextarea value="#{trans.transactionComment}" style="font-size: 10px;height: 50px;width: 100px;"/>
                    <h:panelGrid columns="1" id="pnlPrintFile">
                        <h:selectBooleanCheckbox value="#{transBean.autoPrintAfterSave}"/>
                        <h:outputLabel value="Print.After.Save"/>
                        <h:commandButton style="width: 100px;min-height:40px;font-size: 12px;word-wrap: break-word;white-space:normal;border: none;border-radius: 5px;background-color:#{transBean.setBgColorIfEqual('1',transBean.overridePrintVersion,5)};" value="Print File 1">
                            <f:ajax listener="#{transBean.updatePrintFile(1)}" render="TransactionFormSales:pnlPrintFile pnlgOutput"/>
                        </h:commandButton>
                        <h:commandButton style="width: 100px;min-height:40px;font-size: 12px;word-wrap: break-word;white-space:normal;border: none;border-radius: 5px;background-color:#{transBean.setBgColorIfEqual('2',transBean.overridePrintVersion,5)};" value="Print File 2">
                            <f:ajax listener="#{transBean.updatePrintFile(2)}" render="TransactionFormSales:pnlPrintFile pnlgOutput"/>
                        </h:commandButton>
                    </h:panelGrid>
                </h:panelGrid>
                <h:panelGrid id="pnlButtons" columns="1" style="text-align: center;">
                    <p:keyboard placeholder="User Code" id="keybUserCode" value="#{trans.user_code}" password="true" layout="custom" layoutTemplate="123-close,456-clear,789-back,0" showMode="button" style="width: 120px;height: 30px;border-color: red;"/>
                    <h:panelGrid columns="1" style="border-style: double;background-color: yellow;">
                        <p:commandButton icon="fa fa-fw fa-send" style="width: 120px;height: 70px;color: white;background-color: black;" id="cmdbSave" value="Send" onclick="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()">
                            <p:dialog widgetVar="statusDialog" height="100" position="center" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                                <p:graphicImage name="/images/ajax-loader.gif"/>
                            </p:dialog>
                            <p:ajax  listener="#{transBean.saveTransCallQuickOrder('Send','PARENT',generalUserSetting.currentStore.storeId,11,16,generalUserSetting.currentSaleType,trans,transItemBean.activeTransItems,transactorBean.selectedTransactor,transactorBean.selectedBillTransactor,userDetailBean.selectedUserDetail,transactorBean.selectedSchemeTransactor,transBean.authorisedByUserDetail,null,statusBean)}" process="@form" update="pnlHeader pnlCentre pnlButtons pnlMessage growl1 pnlgOutput"/>
                        </p:commandButton>
                        <p:commandButton icon="fa fa-fw fa-thumbs-o-up" style="width: 120px;height: 70px;color: white;background-color: black;" id="cmdbSaveProcess" value="Process" onclick="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()">
                            <p:dialog widgetVar="statusDialog" height="100" position="center" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                                <p:graphicImage name="/images/ajax-loader.gif"/>
                            </p:dialog>
                            <p:ajax listener="#{transBean.saveTransCallQuickOrder('Process','PARENT',generalUserSetting.currentStore.storeId,11,16,generalUserSetting.currentSaleType,trans,transItemBean.activeTransItems,transactorBean.selectedTransactor,transactorBean.selectedBillTransactor,userDetailBean.selectedUserDetail,transactorBean.selectedSchemeTransactor,transBean.authorisedByUserDetail,null,statusBean)}" process="@form" update="pnlHeader pnlCentre pnlButtons pnlMessage growl1 pnlgOutput"/>
                        </p:commandButton>
                        <p:commandButton icon="fa fa-fw fa-money" style="width: 120px;height: 70px;color: white;background-color: black;" id="cmdbPay" value="Pay" onclick="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" actionListener="#{transBean.saveTransCallQuickOrder('Pay','PARENT',generalUserSetting.currentStore.storeId,11,16,generalUserSetting.currentSaleType,trans,transItemBean.activeTransItems,transactorBean.selectedTransactor,transactorBean.selectedBillTransactor,userDetailBean.selectedUserDetail,transactorBean.selectedSchemeTransactor,transBean.authorisedByUserDetail,null,statusBean)}" process="@form" update="@form">
                            <p:dialog widgetVar="statusDialog" height="100" position="center" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                                <p:graphicImage name="/images/ajax-loader.gif"/>
                            </p:dialog>
                        </p:commandButton>
                        <p:commandButton icon="fa fa-fw fa-save" style="width: 120px;height: 70px;color: white;background-color: black;" id="cmdbSaveInvoice" value="Invoice" onclick="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" actionListener="#{transBean.saveTransCallQuickOrder('Invoice','PARENT',generalUserSetting.currentStore.storeId,11,16,generalUserSetting.currentSaleType,trans,transItemBean.activeTransItems,transactorBean.selectedTransactor,transactorBean.selectedBillTransactor,userDetailBean.selectedUserDetail,transactorBean.selectedSchemeTransactor,transBean.authorisedByUserDetail,null,statusBean)}" process="@form" update="@form">
                            <p:dialog widgetVar="statusDialog" height="100" position="center" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                                <p:graphicImage name="/images/ajax-loader.gif"/>
                            </p:dialog>
                        </p:commandButton>
                        <p:commandButton icon="fa fa-fw fa-eraser" style="width: 120px;height: 70px;color: white;background-color: black;" id="cmdbClear" value="Clear">
                            <f:ajax listener="#{transBean.clearAll2CallQuickOder(trans,transItemBean.activeTransItems,transItem,itemBean.selectedItem,transactorBean.selectedTransactor,2,transactorBean.selectedBillTransactor,userDetailBean.selectedUserDetail,transactorBean.selectedSchemeTransactor,null,null,statusBean)}" execute="@form" render="pnlHeader pnlCentre pnlButtons pnlMessage growl1 pnlgOutput"/>
                            <f:ajax listener="#{transBean.setActionMessage('')}" execute="@form" render="pnlHeader pnlCentre pnlButtons pnlMessage growl1 pnlgOutput"/>
                        </p:commandButton>
                    </h:panelGrid>
                </h:panelGrid>
            </h:panelGrid>
            <!-- INVOICE STARTS HERE -->
            <h:panelGrid id="pnlgOutput">
                <ui:include src="#{transBean.getPrintFileName('PARENT',transBean.transTypeObj,transBean.overridePrintVersion)}"/>
            </h:panelGrid>
            <!-- INVOICE ENDS HERE -->
            <h:panelGrid id="pnlgOutput2">
                <c:if test="#{transBean.outputNumber==2}">
                    <ui:include src="#{transBean.getPrintFileName('PARENT',transactionTypeBean.getTransactionType(2),0)}"/>
                </c:if>
            </h:panelGrid>
        </h:form>
    </h:body>
</html>

