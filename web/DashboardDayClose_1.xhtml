<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Day Closing</title>
        <link href="resources/images/sys_icon.ico" rel="shortcut icon" type="image/x-icon" />         
        <link rel="stylesheet" type="text/css" href="style.css?ln=css"/>
        <script  language="javascript">
            function confirmDelete()
            {
                return confirm('Are you sure you want to delete this current record?');
            }
            function alertSave()
            {
                return alert('Record saved successfully!');
            }
        </script>
        <script type="text/javascript" src="resources/js/Chart.js"></script>
        <script type="text/javascript" src="resources/js/Chart.min.js"></script>
    </h:head>
    <f:metadata>
        <f:viewAction action="#{navigationBean.checkAccessDenied('72', 'View')}"/>
        <f:viewAction action="#{dashboardBean.initDayCloseDashboardUI()}"/>
        <f:viewAction action="#{dashboardBean.initDayCloseDashboard()}"/>
    </f:metadata>
    <h:body>
        <style type="text/css">
            .ui-panel, div.ui-state-hover {
                margin: 5px;
                width:300px;
            }

            .ui-dashboard-column {
                width:315px;
            }
        </style>
        <div>
            <ui:include src="Menu.xhtml"/>
            <h:form id="formReport">
                <h:panelGrid id="pnlgHeader" styleClass="clsPanelReportFilterTitle">
                    <h:outputLabel styleClass="clsLabelReportFilterTitle" value="Day Closing Dashboard"/>
                </h:panelGrid>
                <h:panelGrid id="pnlgFilter" columns="4" styleClass="clsPanelReportFilter">
                    <p:outputLabel value="Date:"/>
                    <p:datePicker id="multiselect" selectionMode="multiple" value="#{dashboardBean.multipleDates}" readonlyInput="false" pattern="#{companySetting.getDateFormat()}" autocomplete="false" />
                    <p:commandButton id="cmdbSearch" value="SEARCH" onclick="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()">
                        <p:dialog widgetVar="statusDialog" height="100" position="center" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                            <p:graphicImage name="/images/ajax-loader.gif"/>
                        </p:dialog>
                        <p:ajax listener="#{dashboardBean.searchDayCloseDashboard()}" process="pnlgFilter" update="growl1 board"/>
                    </p:commandButton>
                    <p:commandButton id="cmdbReset" value="RESET">
                        <p:ajax listener="#{dashboardBean.initDayCloseDashboard()}" process="pnlgFilter" update="pnlgFilter growl1 board"/>
                    </p:commandButton>
                </h:panelGrid>

                <p:growl id="growl1" showDetail="true" />

                <p:dashboard id="board" model="#{dashboardBean.model}" style="display: table;">
                    <p:panel id="sales" header="Sales">
                        <table border="0" cellspacing="0" cellpadding="5">
                            <tr style="background-color:#007500;">
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    By TransDate
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Currency
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Amount
                                </td>
                            </tr>
                            <ui:repeat var="sl" value="#{dashboardBean.dayCloseSalesList}">
                                <tr style="background-color:lightgreen;">
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{sl.transactionReasonName}
                                    </td>
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{sl.currencyCode}
                                    </td>
                                    <td style="text-align: right;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{utilityBean.formatDoubleToString(sl.grandTotal,sl.currencyCode)}
                                    </td>
                                </tr>
                            </ui:repeat>
                        </table>
                        <table border="0" cellspacing="0" cellpadding="5">
                            <tr style="background-color:#007500;">
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    By AddDate
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Currency
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Amount
                                </td>
                            </tr>
                            <ui:repeat var="sl2" value="#{dashboardBean.dayCloseSalesList2}">
                                <tr style="background-color:lightgreen;">
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{sl2.transactionReasonName}
                                    </td>
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{sl2.currencyCode}
                                    </td>
                                    <td style="text-align: right;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{utilityBean.formatDoubleToString(sl2.grandTotal,sl2.currencyCode)}
                                    </td>
                                </tr>
                            </ui:repeat>
                        </table>
                    </p:panel>

                    <p:panel id="purchases" header="Purchases and Expenses">
                        <table border="0" cellspacing="0" cellpadding="5">
                            <tr style="background-color:#E60000;">
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    By TransDate
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Currency
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Amount
                                </td>
                            </tr>
                            <ui:repeat var="pl" value="#{dashboardBean.dayClosePurchaseList}">
                                <tr style="background-color:#FFE4C4;">
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{pl.transactionReasonName}
                                    </td>
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{pl.currencyCode}
                                    </td>
                                    <td style="text-align: right;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{utilityBean.formatDoubleToString(pl.grandTotal,pl.currencyCode)}
                                    </td>
                                </tr>
                            </ui:repeat>
                        </table>
                        <table border="0" cellspacing="0" cellpadding="5">
                            <tr style="background-color:#E60000;">
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    By AddDate
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Currency
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    AMount
                                </td>
                            </tr>
                            <ui:repeat var="pl2" value="#{dashboardBean.dayClosePurchaseList2}">
                                <tr style="background-color:#FFE4C4;">
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{pl2.transactionReasonName}
                                    </td>
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{pl2.currencyCode}
                                    </td>
                                    <td style="text-align: right;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{utilityBean.formatDoubleToString(pl2.grandTotal,pl2.currencyCode)}
                                    </td>
                                </tr>
                            </ui:repeat>
                        </table>
                    </p:panel>

                    <p:panel id="receipts" header="Cash Receipts">
                        <table border="0" cellspacing="0" cellpadding="5">
                            <tr style="background-color:#007500;">
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    By ReceiptDate
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Currency
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Received
                                </td>
                            </tr>
                            <ui:repeat var="cr" value="#{dashboardBean.dayCloseCashReceiptList}">
                                <tr style="background-color:lightgreen;">
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{cr.payRefNo}
                                    </td>
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{cr.currencyCode}
                                    </td>
                                    <td style="text-align: right;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{utilityBean.formatDoubleToString(cr.paidAmount,cr.currencyCode)}
                                    </td>
                                </tr>
                            </ui:repeat>
                        </table>
                        <table border="0" cellspacing="0" cellpadding="5">
                            <tr style="background-color:#007500;">
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    By AddDate
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Currency
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Received
                                </td>
                            </tr>
                            <ui:repeat var="cr2" value="#{dashboardBean.dayCloseCashReceiptList2}">
                                <tr style="background-color:lightgreen;">
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{cr2.payRefNo}
                                    </td>
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{cr2.currencyCode}
                                    </td>
                                    <td style="text-align: right;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{utilityBean.formatDoubleToString(cr2.paidAmount,cr2.currencyCode)}
                                    </td>
                                </tr>
                            </ui:repeat>
                        </table>
                    </p:panel>

                    <p:panel id="payments" header="Cash Payments">
                        <table border="0" cellspacing="0" cellpadding="5">
                            <tr style="background-color:#E60000;">
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    By PayDate
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Currency
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Paid
                                </td>
                            </tr>
                            <ui:repeat var="cp" value="#{dashboardBean.dayCloseCashPaymentList}">
                                <tr style="background-color:#FFE4C4;">
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{cp.payRefNo}
                                    </td>
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{cp.currencyCode}
                                    </td>
                                    <td style="text-align: right;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{utilityBean.formatDoubleToString(cp.paidAmount,cp.currencyCode)}
                                    </td>
                                </tr>
                            </ui:repeat>
                        </table>
                        <table border="0" cellspacing="0" cellpadding="5">
                            <tr style="background-color:#E60000;">
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    By AddDate
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Currency
                                </td>
                                <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 11pt;color:#FFFFFF;font-weight: bold;text-decoration: none;">
                                    Paid
                                </td>
                            </tr>
                            <ui:repeat var="cp2" value="#{dashboardBean.dayCloseCashPaymentList2}">
                                <tr style="background-color:#FFE4C4;">
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{cp2.payRefNo}
                                    </td>
                                    <td style="text-align: left;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{cp2.currencyCode}
                                    </td>
                                    <td style="text-align: right;font-family:'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif; font-size: 10pt;color:#000000;font-weight: normal;text-decoration: none;">
                                        #{utilityBean.formatDoubleToString(cp2.paidAmount,cp2.currencyCode)}
                                    </td>
                                </tr>
                            </ui:repeat>
                        </table>
                    </p:panel>
                </p:dashboard>

            </h:form>
        </div>
    </h:body>

</html>

